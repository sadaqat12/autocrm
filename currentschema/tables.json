[
  {
    "table_name": "agent_organizations",
    "columns": "organization_id uuid NOT NULL\ncreated_at timestamp with time zone DEFAULT now()\nid uuid NOT NULL DEFAULT uuid_generate_v4()\nagent_id uuid NOT NULL"
  },
  {
    "table_name": "audit_log",
    "columns": "to_value character varying\nfrom_value character varying\nevent_type character varying NOT NULL\nuser_id uuid\nticket_id uuid\nid uuid NOT NULL DEFAULT uuid_generate_v4()\ncreated_at timestamp with time zone DEFAULT now()"
  },
  {
    "table_name": "organization_users",
    "columns": "user_id uuid NOT NULL\nrole USER-DEFINED NOT NULL DEFAULT 'member'::org_role\nstatus USER-DEFINED NOT NULL DEFAULT 'pending'::org_user_status\nis_creator boolean NOT NULL DEFAULT false\ncreated_at timestamp with time zone NOT NULL DEFAULT timezone('utc'::text, now())\nid uuid NOT NULL DEFAULT gen_random_uuid()\norganization_id uuid NOT NULL"
  },
  {
    "table_name": "organizations",
    "columns": "id uuid NOT NULL DEFAULT uuid_generate_v4()\nname character varying NOT NULL\ncreated_at timestamp with time zone DEFAULT now()"
  },
  {
    "table_name": "profiles",
    "columns": "created_at timestamp with time zone DEFAULT now()\nphone character varying\nrole USER-DEFINED NOT NULL DEFAULT 'user'::system_role\nmetadata jsonb\nid uuid NOT NULL\nfull_name character varying NOT NULL"
  },
  {
    "table_name": "ticket_attachments",
    "columns": "file_name character varying NOT NULL\ncreated_at timestamp with time zone DEFAULT now()\nmessage_id uuid\nfile_url text NOT NULL\nid uuid NOT NULL DEFAULT uuid_generate_v4()\nticket_id uuid NOT NULL"
  },
  {
    "table_name": "ticket_messages",
    "columns": "message_type USER-DEFINED NOT NULL DEFAULT 'public'::message_type\nid uuid NOT NULL DEFAULT uuid_generate_v4()\nticket_id uuid NOT NULL\ncreated_by uuid NOT NULL\ncontent text NOT NULL\ncreated_at timestamp with time zone DEFAULT now()"
  },
  {
    "table_name": "tickets",
    "columns": "organization_id uuid NOT NULL\nupdated_at timestamp with time zone DEFAULT now()\ncreated_at timestamp with time zone DEFAULT now()\ntags ARRAY\nid uuid NOT NULL DEFAULT uuid_generate_v4()\ncategory USER-DEFINED NOT NULL DEFAULT 'support'::ticket_category\npriority USER-DEFINED NOT NULL DEFAULT 'medium'::ticket_priority\nstatus USER-DEFINED NOT NULL DEFAULT 'open'::ticket_status\nsubject character varying NOT NULL\nassigned_to uuid\ncreated_by uuid NOT NULL"
  }
]